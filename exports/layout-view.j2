<!DOCTYPE html>
<html lang="en" data-netbox-color-mode="dark">
<head>
    <title>{{queryset[0].device.name}} Layout</title>
    <link rel="stylesheet" href="/static/netbox-external.css?v=3.4.4" onerror="window.location='/media-failure/?filename=netbox-external.css'">
    <link rel="stylesheet" href="/static/netbox-light.css?v=3.4.4" onerror="window.location='/media-failure/?filename=netbox-light.css'">
    <link rel="stylesheet" href="/static/netbox-dark.css?v=3.4.4" onerror="window.location='/media-failure/?filename=netbox-dark.css'">
    <link rel="icon" type="image/png" href="/static/netbox.ico">
    <link rel="apple-touch-icon" type="image/png" href="/static/netbox_touch-icon-180.png">
    <style>
        html {
            width: max-content;
            --row-height: 110px;
            --column-width: 170px;
            --port-active: rgb(49, 58, 64);
            --bg-col: rgb(27, 31, 34);
            --port-inactive: rgb(36, 40, 43);
            --text-primary: rgb(255, 255, 255);
            --text-secondary: rgba(255, 255, 255, 0.25);
            --weight: normal;
            --disabled: rgb(57, 29, 29);
            --vision: rgb(42, 83, 44);
            --comms: rgb(68, 82, 83);
            --wifi: rgb(43, 70, 46);
            --router-panel: rgb(52, 93, 54);
            --omneo-1013: rgb(76, 66, 98);
            --omneo-1021: rgb(35, 88, 108);
            --omneo-1022: rgb(72, 95, 130);
        }

        html[data-netbox-color-mode="light"] {
            --row-height: 110px;
            --column-width: 170px;
            --port-active: rgb(219, 219, 219);
            --bg-col: rgb(255, 255, 255);
            --port-inactive: rgb(241, 241, 241);
            --text-primary: rgb(0, 0, 0);
            --text-secondary: rgba(0, 0, 0, 0.25);
            --weight: bold;
            --disabled: rgb(249, 201, 201);
            --vision: rgb(87, 177, 90);
            --comms: rgb(158, 158, 158);
            --wifi: rgb(157, 251, 167);
            --router-panel: rgb(127, 223, 131);
            --omneo-1013: rgb(194, 167, 254);
            --omneo-1021: rgb(140, 223, 255);
            --omneo-1022: rgb(141, 186, 255);
        }

        body {
            padding: 0 10px;
            width: max-content;
            background-color: var(--bg-col) !important;
        }

        main {
            display: grid;
            grid-gap: 10px;
        }
        main.Catalyst-3850-48T {
            grid-template-areas: "gi1 gi3 gi5 gi7 gi9 gi11 gi13 gi15 gi17 gi19 gi21 gi23 gi25 gi27 gi29 gi31 gi33 gi35 gi37 gi39 gi41 gi43 gi45 gi47 blank blank blank blank" "gi2 gi4 gi6 gi8 gi10 gi12 gi14 gi16 gi18 gi20 gi22 gi24 gi26 gi28 gi30 gi32 gi34 gi36 gi38 gi40 gi42 gi44 gi46 gi48 gi1-1 gi1-2 gi1-3 gi1-4";
            grid-template-columns: repeat(28, var(--column-width));
            grid-template-rows: repeat(2, var(--row-height));
        }
        main.ProSafe-M4300-52G-PoE {
            grid-template-areas: "gi1 gi3 gi5 gi7 gi9 gi11 gi13 gi15 gi17 gi19 gi21 gi23 gi25 gi27 gi29 gi31 gi33 gi35 gi37 gi39 gi41 gi43 gi45 gi47 gi49 gi1-1" "gi2 gi4 gi6 gi8 gi10 gi12 gi14 gi16 gi18 gi20 gi22 gi24 gi26 gi28 gi30 gi32 gi34 gi36 gi38 gi40 gi42 gi44 gi46 gi48 gi50 gi1-2";
            grid-template-columns: repeat(26, var(--column-width));
            grid-template-rows: repeat(2, var(--row-height));
        }
        main.EX4300-48 {
            grid-template-areas: "gi0 gi2 gi4 gi6 gi8 gi10 gi12 gi14 gi16 gi18 gi20 gi22 gi24 gi26 gi28 gi30 gi32 gi34 gi36 gi38 gi40 gi42 gi44 gi46 blank blank blank blank" "gi1 gi3 gi5 gi7 gi9 gi11 gi13 gi15 gi17 gi19 gi21 gi23 gi25 gi27 gi29 gi31 gi33 gi35 gi37 gi39 gi41 gi43 gi45 gi47 gi1-0 gi1-1 gi1-2 gi1-3";
            grid-template-columns: repeat(28, var(--column-width));
            grid-template-rows: repeat(2, var(--row-height));
        }
        main.Nexus-93180YC-FX3 {
            grid-template-areas: "gi1 gi3 gi5 gi7 gi9 gi11 gi13 gi15 gi17 gi19 gi21 gi23 gi25 gi27 gi29 gi31 gi33 gi35 gi37 gi39 gi41 gi43 gi45 gi47 qgi1-1 qgi1-2 qgi1-3 qgi1-4 qgi3-1 qgi3-2 qgi3-3 qgi3-4 qgi5-1 qgi5-2 qgi5-3 qgi5-4" "gi2 gi4 gi6 gi8 gi10 gi12 gi14 gi16 gi18 gi20 gi22 gi24 gi26 gi28 gi30 gi32 gi34 gi36 gi38 gi40 gi42 gi44 gi46 gi48 qgi2-1 qgi2-2 qgi2-3 qgi2-4 qgi4-1 qgi4-2 qgi4-3 qgi4-4 qgi6-1 qgi6-1 qgi6-1 qgi6-1";
            grid-template-columns: repeat(36, var(--column-width));
            grid-template-rows: repeat(2, var(--row-height));
        }
        header {
            font-size: 24pt;
            margin: 10px 0px;
            color: var(--text-primary);
            font-weight: var(--weight);
            display: flex;
            align-items: center;
        }
        a.badge.link {
            font-size: 1rem;
        }
        .logo {
            height: 2em;
            margin-right: 10px;
        }
        .logo-dark {
            display: none;
        }

        .logo-light {
            display: block;
        }

        html[data-netbox-color-mode="dark"] .logo-dark {
            display: block;
        }

        html[data-netbox-color-mode="dark"] .logo-light {
            display: none;
        }

        .manage-link {
            font-size: 0.6em;
        }
        .manage-link a {
            text-decoration: none !important;
        }

        .to-cont {
          color: var(--text-primary);
          font-weight: var(--weight);
        }
        .to-device, .to-port {
            font-weight: normal;
            font-size: 0.9em;
        }
        .from-name,
        .from-label,
        .from-type,
        .from-cont,
        .port-mode,
        .to-label,
        .to-type {
           display: none;
        }
        .switchport {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background-color: var(--port-active);
            border-radius: 10px;
            padding: 10px;
            z-index: 1;
        }
        .switchport > a {
            position: absolute;
            inset: 0;
            text-decoration: none !important;
        }
        .switchport::before,
        .empty::before {
            position: absolute;
            left: 50%;
            translate: -50% 0%;
            font-weight: bold;
            font-size: 34pt;
            color: var(--text-secondary);
            height: max-content;
            text-align: center;
            bottom: 0px;
            white-space: nowrap;
        }
        .empty::before {
            content:"Free";
            font-size: 21pt;
            bottom: 50%;
            translate: -50% 50%;
        }
        .empty {
            background-color: var(--port-inactive);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .Nexus-93180YC-FX3 .qsfp {
            background: var(--port-inactive);
            border-radius: 14px;
            margin: -4px;
            border: 2px solid rgb(101, 105, 110);
        }

        main.SG300-10P {
            grid-template-areas: "gi1 gi2 gi3 gi4 gi5 gi6 gi7 gi8 gi9 gi9f gi10 gi10f";
            grid-template-columns: repeat(12, var(--column-width));
            grid-template-rows: repeat(1, var(--row-height));
        }
        main.SG220-26P {
            grid-template-areas: "gi1 gi2 gi3 gi4 gi5 gi6 gi7 gi8 gi9 gi10 gi11 gi12 gi25 gi25f" "gi13 gi14 gi15 gi16 gi17 gi18 gi19 gi20 gi21 gi22 gi23 gi24 gi26 gi26f";
            grid-template-columns: repeat(14, var(--column-width));
            grid-template-rows: repeat(2, var(--row-height));
        }

        @media (min-width: 1px) {

        {% for i in range(73) %}
            .gi{{i}}.Fibre ~ .empty.e{{i}} {
                grid-area: gi{{i}};
                background: var(--disabled);
            }
            .gi{{i}} ~ .empty.e{{i}}::before {
                content: 'Disabled\A {{i}} SFP';
                white-space: pre;
            }

            .gi{{i}} ~ .empty.e{{i}} {
                grid-area: gi{{i}}f;
                background: var(--disabled);
            }
            .gi{{i}}.Fibre ~ .empty.e{{i}}::before {
                content: "Disabled\A {{i}} RJ45";
                white-space: pre;
            }
            .gi{{i}} {
                grid-area:gi{{i}};
            }
            .gi{{i}}::before {
                content: '{{i}}';
            }
            .gi{{i}}.Fibre {
                grid-area:gi{{i}}f;
            }
            .gi{{i}}.Fibre::before {
                content: '{{i}} SFP';
            }
            .gi1-0-{{i}} {
                grid-area:gi{{i}};
            }
            .gi1-0-{{i}}::before {
                content: '{{i}}';
            }
            .gi1-{{i}} {
                grid-area: gi{{i}};
            }
            .gi1-{{i}}::before {
                content:'{{i}}';
            }
            .gi0-{{i}}1 {
                grid-area: gi{{i}};
            }
            .gi0-{{i}}::before {
                content:'{{i}}';
            }
            .e{{i}} {
                grid-area: gi{{i}};
            }
            .e{{i}}::before {
                content: 'Free\A {{i}}'; white-space: pre;
            }
        {% endfor %}

        .blank {grid-area: blank;}

            .gi1-1-0 {grid-area:gi1-0;} .gi1-1-0::before {content: 'SFP 0';}
            .gi1-1-1 {grid-area:gi1-1;} .gi1-1-1::before {content: 'SFP 1';}
            .gi1-1-2 {grid-area:gi1-2;} .gi1-1-2::before {content: 'SFP 2';}
            .gi1-1-3 {grid-area:gi1-3;} .gi1-1-3::before {content: 'SFP 3';}
            .gi1-1-4 {grid-area:gi1-4;} .gi1-1-4::before {content: 'SFP 4';}

            .gi2-1-1 {grid-area: qgi1-1;} .gi2-1-1::before {content:'Q 1-1';}
            .gi2-1-2 {grid-area: qgi1-2;} .gi2-1-2::before {content:'Q 1-2';}
            .gi2-1-3 {grid-area: qgi1-3;} .gi2-1-3::before {content:'Q 1-3';}
            .gi2-1-4 {grid-area: qgi1-4;} .gi2-1-4::before {content:'Q 1-4';}
            .gi2-2-1 {grid-area: qgi2-1;} .gi2-2-1::before {content:'Q 2-1';}
            .gi2-2-2 {grid-area: qgi2-2;} .gi2-2-2::before {content:'Q 2-2';}
            .gi2-2-3 {grid-area: qgi2-3;} .gi2-2-3::before {content:'Q 2-3';}
            .gi2-2-4 {grid-area: qgi2-4;} .gi2-2-4::before {content:'Q 2-4';}
            .gi2-3-1 {grid-area: qgi3-1;} .gi2-3-1::before {content:'Q 3-1';}
            .gi2-3-2 {grid-area: qgi3-2;} .gi2-3-2::before {content:'Q 3-2';}
            .gi2-3-3 {grid-area: qgi3-3;} .gi2-3-3::before {content:'Q 3-3';}
            .gi2-3-4 {grid-area: qgi3-4;} .gi2-3-4::before {content:'Q 3-4';}
            .gi2-4-1 {grid-area: qgi4-1;} .gi2-4-1::before {content:'Q 4-1';}
            .gi2-4-2 {grid-area: qgi4-2;} .gi2-4-2::before {content:'Q 4-2';}
            .gi2-4-3 {grid-area: qgi4-3;} .gi2-4-3::before {content:'Q 4-3';}
            .gi2-4-4 {grid-area: qgi4-4;} .gi2-4-4::before {content:'Q 4-4';}
            .gi2-5-1 {grid-area: qgi5-1;} .gi2-5-1::before {content:'Q 5-1';}
            .gi2-5-2 {grid-area: qgi5-2;} .gi2-5-2::before {content:'Q 5-2';}
            .gi2-5-3 {grid-area: qgi5-3;} .gi2-5-3::before {content:'Q 5-3';}
            .gi2-5-4 {grid-area: qgi5-4;} .gi2-5-4::before {content:'Q 5-4';}
            .gi2-6-1 {grid-area: qgi6-1;} .gi2-6-1::before {content:'QSFP 6';}


            .gi0-51 {grid-area: gi1-1;} .gi0-51::before {content:'SFP+ 1';}
            .gi0-52 {grid-area: gi1-2;} .gi0-52::before {content:'SFP+ 2';}

            .qsfp-1 {grid-area: qgi1-1 / qgi1-1 / qgi1-1 / qgi1-4;}
            .qsfp-2 {grid-area: qgi2-1 / qgi2-1 / qgi2-1 / qgi2-4;}
            .qsfp-3 {grid-area: qgi3-1 / qgi3-1 / qgi3-1 / qgi3-4;}
            .qsfp-4 {grid-area: qgi4-1 / qgi4-1 / qgi4-1 / qgi4-4;}
            .qsfp-5 {grid-area: qgi5-1 / qgi5-1 / qgi5-1 / qgi5-4;}
            .qsfp-6 {grid-area: qgi6-1 / qgi6-1 / qgi6-1 / qgi6-1;}

            .e1-0 {grid-area: gi1-0} .e1-0::before {content: 'Free\A SFP 0'; white-space: pre;}
            .e1-1 {grid-area: gi1-1} .e1-1::before {content: 'Free\A SFP 1'; white-space: pre;}
            .e1-2 {grid-area: gi1-2} .e1-2::before {content: 'Free\A SFP 2'; white-space: pre;}
            .e1-3 {grid-area: gi1-3} .e1-3::before {content: 'Free\A SFP 3'; white-space: pre;}
            .e1-4 {grid-area: gi1-4} .e1-4::before {content: 'Free\A SFP 4'; white-space: pre;}
            .e2-1-1 {grid-area: qgi1-1;} .e2-1-1::before {content:'Free\A QSFP 1-1'; white-space: pre;}
            .e2-1-2 {grid-area: qgi1-2;} .e2-1-2::before {content:'Free\A QSFP 1-2'; white-space: pre;}
            .e2-1-3 {grid-area: qgi1-3;} .e2-1-3::before {content:'Free\A QSFP 1-3'; white-space: pre;}
            .e2-1-4 {grid-area: qgi1-4;} .e2-1-4::before {content:'Free\A QSFP 1-4'; white-space: pre;}
            .e2-2-1 {grid-area: qgi2-1;} .e2-2-1::before {content:'Free\A QSFP 2-1'; white-space: pre;}
            .e2-2-2 {grid-area: qgi2-2;} .e2-2-2::before {content:'Free\A QSFP 2-2'; white-space: pre;}
            .e2-2-3 {grid-area: qgi2-3;} .e2-2-3::before {content:'Free\A QSFP 2-3'; white-space: pre;}
            .e2-2-4 {grid-area: qgi2-4;} .e2-2-4::before {content:'Free\A QSFP 2-4'; white-space: pre;}
            .e2-3-1 {grid-area: qgi3-1;} .e2-3-1::before {content:'Free\A QSFP 3-1'; white-space: pre;}
            .e2-3-2 {grid-area: qgi3-2;} .e2-3-2::before {content:'Free\A QSFP 3-2'; white-space: pre;}
            .e2-3-3 {grid-area: qgi3-3;} .e2-3-3::before {content:'Free\A QSFP 3-3'; white-space: pre;}
            .e2-3-4 {grid-area: qgi3-4;} .e2-3-4::before {content:'Free\A QSFP 3-4'; white-space: pre;}
            .e2-4-1 {grid-area: qgi4-1;} .e2-4-1::before {content:'Free\A QSFP 4-1'; white-space: pre;}
            .e2-4-2 {grid-area: qgi4-2;} .e2-4-2::before {content:'Free\A QSFP 4-2'; white-space: pre;}
            .e2-4-3 {grid-area: qgi4-3;} .e2-4-3::before {content:'Free\A QSFP 4-3'; white-space: pre;}
            .e2-4-4 {grid-area: qgi4-4;} .e2-4-4::before {content:'Free\A QSFP 4-4'; white-space: pre;}
            .e2-5-1 {grid-area: qgi5-1;} .e2-5-1::before {content:'Free\A QSFP 5-1'; white-space: pre;}
            .e2-5-2 {grid-area: qgi5-2;} .e2-5-2::before {content:'Free\A QSFP 5-2'; white-space: pre;}
            .e2-5-3 {grid-area: qgi5-3;} .e2-5-3::before {content:'Free\A QSFP 5-3'; white-space: pre;}
            .e2-5-4 {grid-area: qgi5-4;} .e2-5-4::before {content:'Free\A QSFP 5-4'; white-space: pre;}
            .e2-6-1 {grid-area: qgi6-1;} .e2-6-1::before {content:'Free\A QSFP 6'; white-space: pre;}
        }

        .Vision {
            background-color: var(--vision);
        }
        .Comms {
            background-color: var(--comms)
        }
        .WiFi {
            background-color: var(--wifi)
        }
        .Router-Panel {
            background-color: var(--router-panel)
        }
        .Omneo-1013 {
            background-color: var(--omneo-1013)
        }
        .Omneo-1021 {
            background-color: var(--omneo-1021)
        }
        .Omneo-1022 {
            background-color: var(--omneo-1022)
        }
        @media print {
            html[data-netbox-color-mode="light"],
            html[data-netbox-color-mode="dark"] {
                font-size: 18pt;
                --row-height: 180px;
                --column-width: 190px;
                --port-active: rgb(219, 219, 219);
                --bg-col: rgb(255, 255, 255);
                --port-inactive: rgb(241, 241, 241);
                --text-primary: rgb(0, 0, 0);
                --text-secondary: rgba(0, 0, 0, 0.25);
                --weight: bold;
                --disabled: rgb(249, 201, 201);
                --vision: rgb(87, 177, 90);
                --comms: rgb(158, 158, 158);
                --wifi: rgb(157, 251, 167);
                --router-panel: rgb(127, 223, 131);
                --omneo-1013: rgb(194, 167, 254);
                --omneo-1021: rgb(140, 223, 255);
                --omneo-1022: rgb(141, 186, 255);
            }
            .switchport {
                border: 1px solid rgb(191, 191, 191);
            }
            .gi9 ~ .empty.e9,
            .gi10 ~ .empty.e10,
            .gi25 ~ .empty.e25,
            .gi26 ~ .empty.e26,
            .gi9.Fibre ~ .empty.e9,
            .gi10.Fibre ~ .empty.e10,
            .gi25.Fibre ~ .empty.e25,
            .gi26.Fibre ~ .empty.e26 {
                background: var(--disabled);
            }
            .logo-dark {
                display: none !important;
            }

            .logo-light {
                display: block !important;
            }

            a {
                text-decoration: none !important;
                color: black !important;
            }
            .manage-link {
                display: none;
            }
        }
        .Switch .link-normal {
            display: contents;
        }
        .link-switch {
            display: contents;
        }
        .Switch .link-switch {
            display: block;
        }
    </style>
    <script type="text/javascript" src="/static/setmode.js" onerror="window.location='/media-failure/?filename=setmode.js'"></script>
    <script>initMode()</script>
</head>
<body>
    <header>
        <a href="/">
            <img src="/static/nep_logo.svg" class="sidenav-brand-img logo-light logo" alt="NetBox Logo" height="48">
            <img src="/static/nep_logo_light.svg" class="sidenav-brand-img logo-dark logo" alt="NetBox Logo" height="48">
        </a>
        <a href="/dcim/devices/{{queryset[0].device.id}}">{{queryset[0].device.name}} </a>
        <span>&nbsp;Layout -&nbsp;</span>
        <a href="/dcim/device-types/{{queryset[0].device.device_type.id}}"> {{queryset[0].device.device_type}}</a>
        {% if queryset[0].device.primary_ip4 %}
            {% set ip = queryset[0].device.primary_ip4|ip() %}
            <span class="manage-link">
                <a class="badge bg-green ms-4 link" href="ssh://{{ip}}"><i class="mdi mdi-monitor-lock"></i> SSH <i class="mdi mdi-open-in-new" style="margin-left:0.2em"></i></a>
                <a class="badge bg-green ms-2 link" href="http://{{ip}}" target="_blank"><i class="mdi mdi-cloud-lock"></i> HTTP <i class="mdi mdi-open-in-new" style="margin-left:0.2em"></i></a>
                <a class="badge bg-blue ms-2 link" href="/dcim/devices/{{queryset[0].device.id}}/render-config/?export=True" target="_blank"><i class="mdi mdi-download"></i> Config</a>
            </span>
        {% endif %}
    </header>
    <main class="{{queryset[0].device.device_type|replace(' ', '-')}}">
        {% for connection in queryset %}
            {% set from = connection.link_peers|first %}
            {% set label = connection.label|replace('/','-')|replace('gi','')|replace('Ethernet', '')|replace('ge-0-0-', '1-0-')|replace('xe-0-2-', '1-1-') %}
            {% set name = connection.name|replace('(','')|replace(')','') %}
            <section class="switchport {% for tag in from.device.tags.names() %}{{tag|replace(' ','-') }} {% endfor %}gi{{label}} {{name}}">
                <a class="link-normal" href="/dcim/devices/{{ from.device.id}}" target="_blank"></a>
                <a class="link-switch" href="/dcim/interface-connections/?device_id={{ from.device.id}}&export=switch-layout"></a>
                <div class="from-cont">
                    <div class="from-name">{{ connection.device}}</div>
                    <div class="from-port">{{ connection.name}}</div>
                    <div class="from-label">{{ connection.label}}</div>
                    <div class="from-type">{{ connection.type}}</div>
                </div>
                <div class="to-cont">
                    <div class="to-name">{{ from.device.name}}</div>
                    <div class="to-device">{{ from.device.device_type}}</div>
                    <div class="to-port">{{ from.name}}</div>
                    <div class="to-label">{{ from.label}}</div>
                    <div class="to-type">{{ from.type}}</div>
                </div>
                <div class="port-mode">{{ connection.type}}</div>
            </section>		
        {% endfor %}
        {% for n in range(73) %}
            <div class="empty e{{n}}"></div>
        {% endfor %}
        {% for qsfp in range(6) %}
            <div class="qsfp-{{qsfp+1}} qsfp"></div>
            {% for port in range(5) %}
                <div class="empty e2-{{qsfp+1}}-{{port}}"></div>
            {% endfor %}
        {% endfor %}
        <div class="empty e1-0"></div><div class="empty e1-1"></div><div class="empty e1-2"></div><div class="empty e1-3"></div><div class="empty e1-4"></div>
        <div class="blank"></div><div class="blank2"></div>
    </main>
</body>
</html>